<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Učební kamarád</title>
  <link rel="stylesheet" href="./index.css" />
</head>
<body>
  <main id="app">
    <!-- Domů -->
    <section id="tab-home" class="tab active" aria-labelledby="tabbtn-home">
      <article class="card mission" role="region" aria-label="Dnešní mise">
        <span class="badge" id="home-badge">Doporučeno</span>
        <h1>Dnešní mise</h1>
        <p id="mission-text">Načítám doporučení…</p>
        <button id="start-recommended" class="cta">Začít</button>
        <p id="mission-why" class="muted"></p>
      </article>

      <article class="card path" role="region" aria-label="Tvoje cesta">
        <h2>Tvoje cesta</h2>
        <div class="tracks">
          <button class="track" data-mode="math">
            <span>🧮 Násobilka</span>
            <progress max="100" value="0" id="prog-math"></progress>
            <small id="label-math">Načítám…</small>
          </button>
          <button class="track" data-mode="czech">
            <span>📚 Vyjmenovaná</span>
            <progress max="100" value="0" id="prog-czech"></progress>
            <small id="label-czech">Načítám…</small>
          </button>
          <button class="track" data-mode="english">
            <span>🗣️ Slovíčka</span>
            <progress max="100" value="0" id="prog-english"></progress>
            <small id="label-english">Načítám…</small>
          </button>
        </div>
      </article>

      <article class="card streak" role="region" aria-label="Streak a XP">
        <div>🔥 Streak: <strong id="streak">0</strong> dnů</div>
        <div class="xp">
          <label for="xp-progress">XP dnes</label>
          <progress id="xp-progress" max="100" value="0"></progress>
          <small><span id="xp-today">0</span> / <span id="xp-goal">100</span></small>
        </div>
      </article>

      <article class="card tip" role="region" aria-label="Tip od kamaráda">
        <h2>Tip od kamaráda</h2>
        <p id="agent-tip">„Ahoj! Zkus dnes krátkou výzvu, půjde ti to! 💪“</p>
        <button class="ghost" data-open-chat>Zeptat se v chatu</button>
      </article>
    </section>

    <!-- Cvičit -->
    <section id="tab-practice" class="tab" aria-labelledby="tabbtn-practice">
      <div class="mode-switch" role="tablist" aria-label="Výběr režimu">
        <button role="tab" aria-selected="true" id="mode-math" data-mode="math" class="active">Násobilka</button>
        <button role="tab" aria-selected="false" id="mode-czech" data-mode="czech">Vyjmenovaná</button>
        <button role="tab" aria-selected="false" id="mode-english" data-mode="english">Slovíčka</button>
      </div>

      <div class="subtabs" role="tablist" aria-label="Výběr doporučení">
        <button role="tab" aria-selected="true" data-sub="recommended" class="active">Doporučeno</button>
        <button role="tab" aria-selected="false" data-sub="all">Vše</button>
      </div>

      <div id="practice-recommended" class="pane active" role="region" aria-label="Doporučená sada">
        <article class="card">
          <span class="badge">Doporučeno</span>
          <h2 id="rec-title">Rychlá sada (≈ 2 min)</h2>
          <p id="rec-desc">Mix 5 úloh podle tvých posledních výsledků.</p>
          <button class="cta" id="start-quick">Start</button>
        </article>
      </div>

      <div id="practice-all" class="pane" role="region" aria-label="Všechny sady">
        <div class="grid" id="all-tiles">
          <!-- dynamicky doplněno -->
        </div>
      </div>

      <!-- Běh kvízu -->
      <section id="quiz" class="quiz hidden" aria-live="polite">
        <div class="quiz-top">
          <span id="diff-chip" class="chip">Akorát</span>
          <span id="quiz-progress">1 / 5</span>
          <span id="quiz-timer">⏱︎</span>
        </div>
        <div class="quiz-card card">
          <div id="question-text" class="question">…</div>
          <div id="answers" class="answers"></div>
          <div id="feedback" class="feedback" role="status"></div>
          <div class="quiz-actions">
            <button id="btn-hint" class="ghost">Nápověda</button>
            <button id="btn-submit" class="cta">Odpovědět</button>
          </div>
        </div>
      </section>
    </section>

    <!-- Chat (jednoduché ukotvení) -->
    <section id="tab-chat" class="tab" aria-labelledby="tabbtn-chat">
      <article class="card">
        <h2>Chat s kamarádem</h2>
        <div class="quick-prompts">
          <button class="ghost" data-qp="vysvetli">Vysvětli mi dnešní téma</button>
          <button class="ghost" data-qp="priklady">Dej 3 příklady</button>
          <button class="ghost" data-qp="slovicka">Procvič slovíčka</button>
        </div>
        <div id="chat-log" class="chat-log" aria-live="polite"></div>
        <form id="chat-form" class="chat-form">
          <input id="chat-input" type="text" placeholder="Napiš zprávu…" autocomplete="off" />
          <button class="cta" type="submit">Odeslat</button>
        </form>
      </article>
    </section>

    <!-- Profil -->
    <section id="tab-profile" class="tab" aria-labelledby="tabbtn-profile">
      <article class="card">
        <h2>Můj profil</h2>
        <div class="grid two">
          <label>
            Denní cíl XP
            <input id="goal-xp" type="range" min="40" max="200" step="10" />
            <div><span id="goal-xp-value">100</span> XP</div>
          </label>
          <label class="row">
            <input id="harder-toggle" type="checkbox" />
            <span>Chci těžší výzvy</span>
          </label>
          <div>
            Záliby
            <div id="likes" class="chips"></div>
          </div>
          <div>
            Přístupnost
            <label class="row"><input id="big-font" type="checkbox"/> Větší písmo</label>
            <label class="row"><input id="reduce-motion" type="checkbox"/> Méně animací</label>
          </div>
        </div>
      </article>
    </section>
  </main>

  <!-- Spodní tabbar -->
  <nav class="tabbar" aria-label="Hlavní navigace">
    <button type="button" id="tabbtn-home" data-tab="home" class="active">🏠 Domů</button>
    <button type="button" id="tabbtn-practice" data-tab="practice">🎯 Cvičit</button>
    <button type="button" id="tabbtn-chat" data-tab="chat">💬 Chat</button>
    <button type="button" id="tabbtn-profile" data-tab="profile">👤 Profil</button>
  </nav>

  <script src="./index.js" type="module"></script>
</body>
</html>
